# AWS linux 2023

sudo yum update

1. sudo yum install nginx
2. 启动 sudo systemctl start nginx

sudo yum install -y nodejs npm # 安装 Node.js 和 npm

sudo npm install -g vue-cli # 全局安装 Vue CLI

sudo yum install git

git clone 仓库

sudo usermod -a -G ec2-user nginx  # 加入用户组


sudo chown -R ec2-user:ec2-user /path/to/beike-admin # 文件夹的地址自己改

sudo chmod -R 775 /path/to/beike-admin  # 读写权限

chmod g+x /home/ec2-user && chmod g+x /home/ec2-user/beike-admin && chmod g+x /home/ec2-user/beike-admin/dist

这将为组成员添加目录访问权限，以确保Nginx用户可以访问您的项目目录。



cd beike-admin

npm install  进入文件夹后再安装

配置虚拟内存
```
# 创建一个名为 swapfile 的 4G 大小的文件
sudo fallocate -l 4G /swapfile

# 设置正确的权限
sudo chmod 600 /swapfile

# 设置为 swap 文件
sudo mkswap /swapfile

# 启用 swap
sudo swapon /swapfile

# 检查 swap 是否启用
sudo swapon --show
```

# 配置 nginx

sudo systemctl enable nginx

sudo rm /etc/nginx/conf.d/default.conf  如果能删除的话

sudo nano /etc/nginx/conf.d/beike-admin.conf  建立一个配置文件，

粘贴进去

```
server {
  listen 80;
  server_name 54.208.193.221;

  root /home/ec2-user/beike-admin/dist;
  index index.html;

  location / {
    try_files $uri $uri/ /index.html;
  }

  location /css/ {
    expires 1y;
    add_header Cache-Control "public";
  }

  location /js/ {
    expires 1y;
    add_header Cache-Control "public";
  }

  location ~* \.(jpg|jpeg|png|gif|ico|svg)$ {
    expires 1y;
    add_header Cache-Control "public";
  }

  error_page  500 502 503 504  /50x.html;
}


```

sudo systemctl reload nginx
这将重新加载Nginx以使更改生效。